@using System.Runtime.ExceptionServices
@inherits LayoutComponentBase

<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="TheTheme"/>
<MudDialogProvider/>
<MudSnackbarProvider/>
<MudPopoverProvider />
<MudLayout>
    <AppBar/> 
   
    <MudMainContent>
        <MudSwitch @bind-Value="_isDarkMode" Color="Color.Inherit" Class="pa-5" T="bool" Label="Toggle the dark/light" ThumbIcon="@Icons.Material.Outlined.DarkMode"/>
        @Body
    </MudMainContent>
</MudLayout>

@code
{
    //todo abstract this shit
    private bool _isDarkMode;
    private MudTheme _theme = new (); 

    
    //Mudtheme
    static Theme theme = new Theme(); 
    MudTheme TheTheme = theme.getTheme(); 
}
